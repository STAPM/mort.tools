<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Lee-Carter forecast of mortality  — MortalityForecast • mort.tools</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Lee-Carter forecast of mortality  — MortalityForecast" />
<meta property="og:description" content="Implements a Lee-Carter forecast separately for mortality from different causes within 10 subgroups defined by
combinations of sex and IMD quintile." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mort.tools</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/mort-tools.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../articles/index.html">Articles</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Lee-Carter forecast of mortality <a href='https://www.tidyverse.org/lifecycle/#maturing'><img src='figures/lifecycle-maturing.svg' alt='Maturing lifecycle'></a></h1>
    
    <div class="hidden name"><code>MortalityForecast.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Implements a Lee-Carter forecast separately for mortality from different causes within 10 subgroups defined by
combinations of sex and IMD quintile.</p>
    </div>

    <pre class="usage"><span class='fu'>MortalityForecast</span><span class='op'>(</span>
  <span class='va'>mort_data_cause</span>,
  folder_path <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/getwd.html'>getwd</a></span><span class='op'>(</span><span class='op'>)</span>,
  cause_names <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Chronic_obstructive_pulmonary_disease"</span><span class='op'>)</span>,
  sex_focus <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Female"</span>, <span class='st'>"Male"</span><span class='op'>)</span>,
  folder_label <span class='op'>=</span> <span class='cn'>NULL</span>,
  year_range <span class='op'>=</span> <span class='fl'>2001</span><span class='op'>:</span><span class='fl'>2016</span>,
  age_range <span class='op'>=</span> <span class='fl'>11</span><span class='op'>:</span><span class='fl'>89</span>,
  smooth <span class='op'>=</span> <span class='cn'>FALSE</span>,
  smooth_n_age <span class='op'>=</span> <span class='fl'>3</span>,
  smooth_n_year <span class='op'>=</span> <span class='fl'>3</span>,
  n_years <span class='op'>=</span> <span class='fl'>50</span>,
  standard_pop <span class='op'>=</span> <span class='fu'>mort.tools</span><span class='fu'>::</span><span class='va'><a href='esp2013.html'>esp2013</a></span>,
  interpolate <span class='op'>=</span> <span class='cn'>TRUE</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>mort_data_cause</th>
      <td><p>Data table containing our processed cause-specific mortality rates</p></td>
    </tr>
    <tr>
      <th>folder_path</th>
      <td><p>where to put the folder of diagnostic files</p></td>
    </tr>
    <tr>
      <th>cause_names</th>
      <td><p>names of the causes to include</p></td>
    </tr>
    <tr>
      <th>sex_focus</th>
      <td><p>Female, Male or both</p></td>
    </tr>
    <tr>
      <th>folder_label</th>
      <td><p>how to identify the forecast folder</p></td>
    </tr>
    <tr>
      <th>year_range</th>
      <td><p>the range of years to use as the basis for forecasting</p></td>
    </tr>
    <tr>
      <th>age_range</th>
      <td><p>the ages for which to conduct the forecast</p></td>
    </tr>
    <tr>
      <th>smooth</th>
      <td><p>TRUE or FALSE</p></td>
    </tr>
    <tr>
      <th>smooth_n_age</th>
      <td><p>the age range for moving average - must be odd number</p></td>
    </tr>
    <tr>
      <th>smooth_n_year</th>
      <td><p>the year range for moving average - must be odd number</p></td>
    </tr>
    <tr>
      <th>n_years</th>
      <td><p>how far in future to project</p></td>
    </tr>
    <tr>
      <th>standard_pop</th>
      <td><p>Data table - the population structure for standardisation.</p></td>
    </tr>
    <tr>
      <th>interpolate</th>
      <td><p>TRUE or FALSE - should any remaining zeros in the data after smoothing
be interpolated based on neighbouring values. This only works if sufficient data exists to inform the interpolation
i.e. for diseases with few deaths it might have to be turned off.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    

<dt>mort_data</dt><dd><p>Observed mortality</p></dd>
<dt>mort_data_smooth</dt><dd><p>Smoothed observed mortality</p></dd>
<dt>mx_forecast</dt><dd><p>Forecast mortality</p></dd>
<dt>year_plot</dt><dd><p>Age-standardised mortality trends over time</p></dd>
<dt>age_plot</dt><dd><p>Age pattern of mortality by year</p></dd>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Uses the functions from the R package 'demography':</p><ul>
<li><p>smooths the trends in mortality rates with a 2d moving average over age and year</p></li>
<li><p>fits the Lee-Carter model (singular value decomposition of trends)</p></li>
<li><p>conducts the forecast up to <code>n_years</code> from baseline</p></li>
</ul>


    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>

<span class='va'>mx_forecast</span> <span class='op'>&lt;-</span> <span class='fu'>MortalityForecast</span><span class='op'>(</span>
  mort_data_cause <span class='op'>=</span> <span class='fu'><a href='https://Rdatatable.gitlab.io/data.table/reference/fread.html'>fread</a></span><span class='op'>(</span><span class='st'>"tob_death_rates_national_2019-05-06_mort.tools_1.0.0.csv"</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='op'>}</span>


</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://www.sheffield.ac.uk/scharr/sections/heds/staff/gillespie_d'>Duncan Gillespie</a>, Laura Webster, <a href='https://www.sheffield.ac.uk/scharr/sections/heds/staff/angus_c'>Colin Angus</a>, <a href='https://www.sheffield.ac.uk/scharr/sections/heds/staff/brennan_a'>Alan Brennan</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


